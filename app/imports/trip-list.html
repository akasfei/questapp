<link rel="import" href="trip-card.html">
<link rel="import" href="trip-service.html">

<polymer-element name="trip-list" attributes="show query">
  <template>
    <style>
      :host {
        display: block;
        margin: 0 8px;
      }
      .trip-container {
        max-height: 220px;
        overflow-y: scroll;
      }
      trip-card {
        width: 100%;
        margin-bottom: 8px;
      }
    </style>
    <trip-service id="service" query="{{query}}" trips="{{trips}}"></trip-service>
    <div class="trip-container" hidden?="{{!show}}">
      <template repeat="{{trip in trips}}">
        <trip-card name="{{trip.title}}" desc="{{trip.desc}}" creator="{{trip.creator}}"
          location="{{trip.location}}" duration="{{trip.duration}}" stars="{{trip.stars}}"
          comments="{{trip.comments}}"></trip-card>
      </template>
    </div>
  </template>
  <script>
  Polymer('trip-list', {
    refresh: function () {
      return this.$.service.reload();
    }
  });
  </script>
</polymer-element>
